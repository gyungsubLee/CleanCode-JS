# 48. ì§ì ‘ ì ‘ê·¼ ì§€ì–‘í•˜ê¸°

> ì´ë²ˆ ë¬¸ì„œëŠ” Udemy-Clean Code(JS) ê°•ì˜ '48 - ì§ì ‘ ì ‘ê·¼ ì§€ì–‘í•˜ê¸°' ë¥¼ í•™ìŠµ í›„ ì •ë¦¬í•œ ê¸€ì´ë©°, ìì„¸í•œ ë‚´ìš©ì€ [í•´ë‹¹ ì˜ìƒ](https://www.udemy.com/course/clean-code-js/learn/lecture/29892230#questions)ì„ ì°¸ì¡°í•˜ê¸¸ ë°”ë€ë‹¤.

<br/>

### í•™ìŠµ ëª©í‘œ

- ì–´ë– í•œ ì£¼ì²´ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ”ì§€<br/>
- ì™œ í•´ë‹¹ ì£¼ì²´ì— ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì§€ì–‘í•´ì•¼í•˜ëŠ”ì§€<br/>
- ì§ì ‘ì ì¸ ì ‘ê·¼ì„ ì§€ì–‘í•˜ëŠ”(`ê°„ì ‘ì ì¸ ì ‘ê·¼`) ë°©ë²•ì´ ë¬´ì—‡ì¸ì§€

  <br/>
  <br/>

## State(ê°ì²´) ì§ì ‘ ì ‘ê·¼ ì§€ì–‘

ìƒíƒœ(state)ë¥¼ ë‹¤ë£¨ë‹¤ë³´ë©´ ê°ì²´ë¥¼ ì½ê³  ì“°ê³ (CRUD) í•  ì¼ì´ ë§ì´ì§„ë‹¤.

> ### ğŸ¤” State(ìƒíƒœ)ë€?
>
> í•¨ìˆ˜ ë‚´ì— ì„ ì–¸ëœ ë³€ìˆ˜ì²˜ëŸ¼ `ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ê²°ê³¼ë¬¼ì— ì˜í–¥ì„ ì£¼ëŠ” ë°ì´í„°`ë¥¼ ê°–ê³  ìˆëŠ” ê°ì²´ì´ë©° ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ê´€ë¦¬ëœë‹¤.
>
> Reference)
> https://ko.reactjs.org/docs/faq-state.html

<br/>

ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ ê°ì²´ë¥¼ ì½ê³  ì“°ê³  í• ì¼ì´ ë§ì•„ì§€ë©´ í•´ë‹¹ ê°ì²´ì— ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì€ ì˜ˆìƒì¹˜ ëª»í•œ ë§ì€ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

<br/>
<br/>

## Case1 - ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ

```javascript
const model = {
  isLogin: false,
  isValidToken: false,
};

function login() {
  model.isLogin = true;
  model.isValidToken = true;
}

function logout() {
  model.isLogin = false;
  model.isValiToken = false;
}

someElement.addEventListener("click", login);
```

ìœ„ ì˜ˆì‹œ ì½”ë“œë¥¼ ë³´ë©´ `model.property`ë¥¼ í†µí•´` ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼`í•˜ì—¬ ì–´ë””ì—ì„œë‚˜ í•´ë‹¹í•˜ëŠ” State(model)ì— ì ‘ê·¼í•˜ì—¬ Stateê°€ ì˜ˆìƒì¹˜ ëª»í•˜ê²Œ ë³€ê²½ë  ìˆ˜ ìˆë‹¤.

<br/>
<br/>

### ë˜í¼ `í•¨ìˆ˜`ë¥¼ í†µí•œ `ê°„ì ‘ì ì¸ ì ‘ê·¼`

```javascript
// ì§ì ‘ ì ‘ê·¼ ì§€ì–‘
const model = {
  isLogin: false,
  isValidToken: false,
};

// modelì— ëŒ€ì‹  ì ‘ê·¼
function setLogin(bool) {
  model.isLogin = bool;
  serverAPI.log(model.isLogin);
}

function setValidToken(bool) {
  model.isValidToken = bool;
  serverAPI.log(model.isValidToken);
}

// modelì— ì§ì ‘ ì ‘ê·¼ X
function login() {
  setLogin(true);
  setValidToken(true);
}

function logout() {
  setLogin(false);
  setValidToken(false);
}
```

ìœ„ì™€ ê°™ì´ `ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ”(model.property = value) ë¡œì§`ì„ ë”°ë¡œ ë‹¨ê³„ë¥¼ ë‚˜ëˆˆ í›„ `ë ˆì´ì–´ë¥¼ ë¶„ë¦¬`í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

<br/>
<br/>

## Case2 - Flux pattern / Redux, Vuex(Pinia)

![image](https://user-images.githubusercontent.com/95308384/201474523-3beaf18e-ab28-4995-9dec-16307d9045bf.png)

> action -> reducer -> state ë³€í™”

<br/>

reduxë‚˜ vuex ë“± `flux pattern`ì„ ì‚¬ìš©í•˜ì—¬ `ìœ ì €ì—ê²Œ ì…ë ¥ë°›ì€ action ë°ì´í„°`ë¥¼ dispatcher -> storeë¥¼ í†µí•´ view ë°˜ì˜í•˜ì—¬ `ê°„ì ‘ì `ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬
`state`ë¥¼ `ì˜ˆì¸¡ ê°€ëŠ¥`í•˜ê³  `ë””ë²„ê¹…í•˜ê¸° ì‰½`ê²Œ ê´€ë¦¬í•œë‹¤.

<br/>

#### â— Redux main page

![image](https://user-images.githubusercontent.com/95308384/201509143-63d60e36-5329-4823-a2fb-f8d93551a9f5.png)

<br/>
<br/>

## Case3 - ê°ì²´ ì ‘ê·¼ì - [getter](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/get)

Javascriptì˜ ê°ì²´ì— getter í”„ë¡œí¼í‹°(get í‚¤ì›Œë“œ)ë¥¼ ì‚¬ìš©í•˜ì—¬ CRUD ì‹œ ì¡°ê¸ˆ ë” ì•ˆì „í•˜ê²Œ ì½”ë“œ ì‘ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.

<br/>
<br/>

## ì •ë¦¬)

ë¡œì§ì„ ë‹¨ê³„ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ë ˆì´ì–´ë¥¼ ë‚˜ëˆ„ì–´ ì ‘ê·¼í•´ì•¼ ë” ì•ˆì „í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

### â— ì˜ˆì‹œ

- í•¨ìˆ˜ë¡œ ë¡œì§ ë¶„ë¦¬(ë˜í¼ í•¨ìˆ˜)
- flux pattern
- ê°ì²´ ì ‘ê·¼ì - getter

<br/>

---

Reference)<br/>
https://vuex.vuejs.org/#what-is-a-state-management-pattern<br/>
https://ko.redux.js.org/<br/>
https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/get<br/>
https://www.udemy.com/course/clean-code-js/learn/lecture/29892230?start=390#questions<br/>
https://beomy.tistory.com/44<br/>
https://www.udemy.com/course/clean-code-js/learn/lecture/29892230?start=390#questions<br/>

<br/>

> ì´ë²ˆ ê¸€ì€ ì„œë¡ ì„ ì‘ì„±í•˜ì—¬ ì¡°ê¸ˆ ë” ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ë ¤ê³  ë…¸ë ¥í•˜ì˜€ë‹¤.<br/>
> ì•„ì§ë„ ë‚´ìš©ì ìœ¼ë¡œë‚˜ í•„ë ¥ìœ¼ë¡œë„ ë§ì´ ë¶€ì¡±í•œ ê²ƒì´ ë³´ì¸ë‹¤.<br/>
> ê³„ì†í•´ì„œ ê³µë¶€í•˜ë©´ì„œ ìˆ˜ì •í•´ ë‚˜ê°€ì•¼ í•  ë“¯ í•˜ë‹¤...

<br/>
